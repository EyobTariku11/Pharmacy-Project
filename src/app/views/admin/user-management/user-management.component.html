<div class="user-management-container">
  <!-- Header -->
  <div class="header-section">
    <h2>Registered Users</h2>
    <div class="header-actions">
      <input
        type="text"
        class="search-input"
        placeholder="Search users..."
        [(ngModel)]="searchTerm"
      />

      <!-- Status Filter Buttons -->
      <div class="status-filters">
        <button 
          [class.active]="statusFilter === ''" 
          (click)="setStatusFilter('')">All</button>
        <button 
          [class.active]="statusFilter === 'Pending'" 
          (click)="setStatusFilter('Pending')">Pending</button>
        <button 
          [class.active]="statusFilter === 'Active'" 
          (click)="setStatusFilter('Active')">Active</button>
        <button 
          [class.active]="statusFilter === 'Blocked'" 
          (click)="setStatusFilter('Blocked')">Blocked</button>
      </div>
    </div>
  </div>

  <!-- Table Section -->
  <div class="table-wrapper">
    <table class="user-table">
      <thead>
        <tr>
          <th>Full Name</th>
          <th>Email</th>
          <th>Role</th>
          <th>Status</th>
          <th>Actions</th>
        </tr>
      </thead>
      <tbody>
        <tr *ngFor="let user of filteredUsers">
          <td>{{ user.fullName }}</td>
          <td>{{ user.email }}</td>
          <td>{{ user.role }}</td>
          <td>
            <span class="status" [ngClass]="user.status.toLowerCase()">
              {{ user.status }}
            </span>
          </td>
          <td class="actions-cell">
            <!-- Toggle Switch with Confirmation -->
            <label class="switch">
              <input
                type="checkbox"
                [checked]="user.status === 'Active'"
                (change)="confirmToggleStatus(user, $event)"
              >
              <span class="slider round"></span>
            </label>
            <!-- Delete Button -->
            <button class="delete-btn" (click)="deleteUser(user)">Delete</button>
          </td>
        </tr>
      </tbody>
    </table>
  </div>

  <!-- Pagination -->
  <div class="pagination" *ngIf="totalPages > 1">
    <button (click)="previousPage()" [disabled]="currentPage === 1">Previous</button>
    <button
      *ngFor="let page of totalPagesArray"
      (click)="goToPage(page)"
      [class.active]="page === currentPage"
    >
      {{ page }}
    </button>
    <button (click)="nextPage()" [disabled]="currentPage === totalPages">Next</button>
  </div>
</div>
